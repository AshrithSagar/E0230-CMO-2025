\documentclass[12pt,openany]{book}

\usepackage[utf8]{inputenc}
\usepackage{amsfonts, amsmath, amssymb, amsthm, cancel, interval, latexsym, mathtools}
\usepackage{enumitem, geometry, graphicx, hyperref, microtype, titlesec, tocloft, xparse}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\usepackage[most]{tcolorbox}
\usepackage[numbers,sort]{natbib}
\usepackage[dvipsnames]{xcolor}

\geometry{
    a4paper,
    left=1.2cm,
    right=1.2cm,
    top=2cm,
    bottom=2cm,
}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=red,
}

\makeatletter
\renewcommand{\part}[1]{
    \clearpage
    \refstepcounter{part}
    \addcontentsline{toc}{part}{\thepart\hspace{1em}#1}
    {\normalfont\huge\bfseries \thepart. #1}
}
\patchcmd{\chapter}{\cleardoublepage}{}{}{}
\patchcmd{\chapter}{\clearpage}{}{}{}
\makeatother
\renewcommand{\cfttoctitlefont}{\normalfont\LARGE\bfseries}
\setlength{\cftbeforetoctitleskip}{2em}
\setlength{\cftaftertoctitleskip}{0pt}
\setlength{\cftbeforepartskip}{1em}
\setlength{\cftbeforechapskip}{0.5em}
\setlength{\cftbeforesecskip}{0pt}
\titleformat{\chapter}[hang]{\normalfont\LARGE\bfseries}{\thechapter.}{0.5em}{}
\titlespacing*{\chapter}{0pt}{1em}{0.2em}
\titlespacing*{\section}{0pt}{0.7em}{0.2em}
\titlespacing*{\subsection}{0pt}{0.5em}{0.2em}
\titlespacing*{\subsubsection}{0pt}{0.3em}{0.2em}

\setlength{\parskip}{0pt}
\setlength{\parindent}{0pt}
\setlist{noitemsep, topsep=0pt}
\setcounter{tocdepth}{2}

\NewTcbTheorem[number within=section]{definition}{Definition}{
    colback=cyan!5!white,
    boxrule=0.8pt,
    fonttitle=\bfseries,
    enhanced,
}{def}
\NewTcbTheorem[number within=section]{theorem}{Theorem}{
    colback=green!5!white,
    boxrule=0.8pt,
    fonttitle=\bfseries,
    enhanced,
}{thm}
\NewTcbTheorem[number within=section]{lemma}{Lemma}{
    colback=green!5!white,
    boxrule=0.8pt,
    fonttitle=\bfseries,
    enhanced,
}{lem}
\NewTcbTheorem[number within=section]{corollary}{Corollary}{
    colback=yellow!5!white,
    boxrule=0.8pt,
    fonttitle=\bfseries,
    enhanced,
}{cor}

\intervalconfig{soft open fences}

\newcommand{\psecref}[1]{(\hyperref[#1]{\S\ref*{#1}})}
\newcommand{\peqref}[1]{(\hyperref[#1]{Eq.~\ref*{#1}})}
\newcommand{\pdefref}[1]{(\hyperref[#1]{Def.~\ref*{#1}})}
\newcommand{\pthmref}[1]{(\hyperref[#1]{Thm.~\ref*{#1}})}

\newcommand{\R}{{\mathbb{R}}}
\newcommand{\N}{{\mathbb{N}}}
\NewDocumentCommand{\abs}{om}{{\IfNoValueTF{#1}{\left\lvert#2\right\rvert}{#1\lvert#2#1\rvert}}}
\NewDocumentCommand{\norm}{om}{{\IfNoValueTF{#1}{\left\lVert#2\right\rVert}{#1\lVert#2#1\rVert}}}
\NewDocumentCommand{\normbf}{om}{{\IfNoValueTF{#1}{\left\lVert\mathbf{#2}\right\rVert}{#1\lVert\mathbf{#2}#1\rVert}}}
\newcommand{\dotp}[2]{{{#1}^\top#2}}
\newcommand{\dotpbf}[2]{{{\mathbf{#1}}^\top\mathbf{#2}}}
\NewDocumentCommand{\qf}{mmo}{{{#1}^\top#2\,\IfValueTF{#3}{#3}{#1}}}
\NewDocumentCommand{\qfbf}{mmo}{{{\mathbf{#1}}^\top\mathbf{#2}\:\mathbf{\IfValueTF{#3}{#3}{#1}}}}
\newcommand{\argmin}{{\mathop{\mathrm{argmin}}}}
\newcommand{\func}[2]{{#1\!\left(#2\right)}}
\newcommand{\grad}[2]{{\nabla\!\func{#1}{#2}}}
\newcommand{\hess}[2]{{\nabla^2\!\func{#1}{#2}}}
\newcommand{\hessinv}[2]{{{\left[\hess{#1}{#2}\right]}^{-1}}}
\newcommand{\inv}[1]{{{#1}^{-1}}}
\newcommand{\SD}[1][d]{{\mathcal{S}_{#1}}}
\newcommand{\PSD}[1][d]{{\mathcal{S}^{+}_{#1}}}
\newcommand{\PD}[1][d]{{\mathcal{S}^{++}_{#1}}}
\newcommand{\C}{{\mathcal{C}}}
\newcommand{\x}{{\mathbf{x}}}
\newcommand{\y}{{\mathbf{y}}}
\newcommand{\z}{{\mathbf{z}}}
\newcommand{\p}{{\mathbf{p}}}
\newcommand{\Q}{{\mathbf{Q}}}
\newcommand{\Qinv}{{\mathbf{Q}^{-1}}}
\newcommand{\h}{{\mathbf{h}}}
\newcommand{\I}{{\mathbf{I}}}
\newcommand{\xstar}{{\x^\ast}}
\newcommand{\xk}{{\x^{(k)}}}
\newcommand{\pk}{{\p^{(k)}}}
\newcommand{\xkp}{{\x^{(k+1)}}}
\newcommand{\half}{{\frac{1}{2}}}
\newcommand{\zero}{{\mathbf{0}}}

\begin{document}

\frontmatter{
    \input{sections/titlepage.tex}
    {\let\clearpage\relax \tableofcontents}
}
\mainmatter{
    \input{sections/introduction.tex}
    \input{sections/notation.tex}
    \input{sections/preliminaries.tex}
    \input{sections/unconstrained.tex}
}
\backmatter{
    \renewcommand{\bibname}{References}
    \bibliographystyle{IEEEtran}
    \bibliography{sections/references.bib}
}

\end{document}
